jQuery(document).ready(function ($) {

    $('.wpcf7 .form-acceptance .wpcf7-list-item').append('<div class="form-acceptance-box"></div>');

    // Modal Form
    $('.openModalForm').on('click', function () {
        $('.modalForm').fadeIn();
        $('body').addClass('body-hidden');
    });

    $('.modalForm-close, .modalForm__overlay').on('click', function () {
        $('.modalForm').fadeOut();
        $('body').removeClass('body-hidden');
        setTimeout(function () {
            $('.modalForm__wrap').fadeIn();
            $('.modalForm .contactSend').hide();
        }, 500)
    });


    // Share Icons
    $('.social-rocket-linkedin .social-rocket-button-anchor').append(`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 9.55C12.917 8.613 14.111 8 15.5 8C16.9587 8 18.3576 8.57946 19.3891 9.61091C20.4205 10.6424 21 12.0413 21 13.5V21H19V13.5C19 12.5717 18.6313 11.6815 17.9749 11.0251C17.3185 10.3687 16.4283 10 15.5 10C14.5717 10 13.6815 10.3687 13.0251 11.0251C12.3687 11.6815 12 12.5717 12 13.5V21H10V8.5H12V9.55ZM5 6.5C4.60218 6.5 4.22064 6.34196 3.93934 6.06066C3.65804 5.77936 3.5 5.39782 3.5 5C3.5 4.60218 3.65804 4.22064 3.93934 3.93934C4.22064 3.65804 4.60218 3.5 5 3.5C5.39782 3.5 5.77936 3.65804 6.06066 3.93934C6.34196 4.22064 6.5 4.60218 6.5 5C6.5 5.39782 6.34196 5.77936 6.06066 6.06066C5.77936 6.34196 5.39782 6.5 5 6.5ZM4 8.5H6V21H4V8.5Z" fill="#20C198"/>
        </svg>
    `);

    $('.social-rocket-twitter .social-rocket-button-anchor').append(`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.2995 5.55011C14.5395 5.54999 13.8098 5.84824 13.2674 6.38068C12.7251 6.91313 12.4134 7.63721 12.3995 8.39711L12.3715 9.97211C12.3699 10.0567 12.3504 10.1399 12.3143 10.2164C12.2782 10.2929 12.2264 10.3609 12.1622 10.416C12.098 10.471 12.0228 10.5119 11.9417 10.5359C11.8606 10.5599 11.7754 10.5664 11.6915 10.5551L10.1305 10.3431C8.07653 10.0631 6.10853 9.11711 4.22053 7.54411C3.62253 10.8541 4.79053 13.1471 7.60353 14.9161L9.35053 16.0141C9.43354 16.0663 9.5025 16.138 9.55138 16.223C9.60026 16.308 9.62757 16.4036 9.63093 16.5016C9.63428 16.5996 9.61358 16.6969 9.57062 16.785C9.52767 16.8731 9.46378 16.9494 9.38453 17.0071L7.79253 18.1701C8.73953 18.2291 9.63853 18.1871 10.3845 18.0391C15.1025 17.0971 18.2395 13.5471 18.2395 7.69111C18.2395 7.21311 17.2275 5.55011 15.2995 5.55011ZM10.3995 8.36011C10.417 7.39616 10.7184 6.45878 11.2661 5.66534C11.8138 4.87189 12.5833 4.25763 13.4784 3.89948C14.3736 3.54133 15.3544 3.45519 16.2983 3.65186C17.2421 3.84853 18.107 4.31926 18.7845 5.00511C19.4955 5.00011 20.1005 5.18011 21.4535 4.36011C21.1185 6.00011 20.9535 6.71211 20.2395 7.69111C20.2395 15.3331 15.5425 19.0491 10.7765 20.0001C7.50853 20.6521 2.75653 19.5811 1.39453 18.1591C2.08853 18.1051 4.90853 17.8021 6.53853 16.6091C5.15953 15.7001 -0.329469 12.4701 3.27753 3.78611C4.97053 5.76311 6.68753 7.10911 8.42753 7.82311C9.58553 8.29811 9.86953 8.28811 10.4005 8.36111L10.3995 8.36011Z" fill="#118AB2"/>
        </svg>
    `);

    $('.social-rocket-facebook .social-rocket-button-anchor').append(`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13 9H17.5L17 11H13V20H11V11H7V9H11V7.128C11 5.345 11.186 4.698 11.534 4.046C11.875 3.40181 12.4018 2.87501 13.046 2.534C13.698 2.186 14.345 2 16.128 2C16.65 2 17.108 2.05 17.5 2.15V4H16.128C14.804 4 14.401 4.078 13.99 4.298C13.686 4.46 13.46 4.686 13.298 4.99C13.078 5.401 13 5.804 13 7.128V9Z" fill="#E8B746"/>
        </svg>
    `);

    // blockquote icon
    $('.article blockquote').append(`
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.8948 32.8002H5.8125V19.0582C5.8125 15.3641 6.55132 12.5566 8.02895 10.6357C9.65435 8.64089 12.388 7.49572 16.2298 7.2002V13.7387C14.8999 13.7387 13.7917 14.2928 12.9051 15.4011C12.4619 15.9921 12.2402 17.1373 12.2402 18.8366V20.9422H16.8948V32.8002ZM34.1831 32.8002H23.1008V19.0582C23.1008 15.3641 23.7657 12.6674 25.0956 10.9682C26.8688 8.75171 29.6763 7.49572 33.5181 7.2002V13.7387C31.2278 13.7387 29.9349 14.8839 29.6393 17.1742C29.5655 17.4698 29.5285 18.0239 29.5285 18.8366V20.9422H34.1831V32.8002Z" fill="#060A21"/>
        </svg>
    `);


    // Table of contents
    var menuLinks = $('.tableContents nav ul li a'); 
    var headerTags = $('.article__content h2.wp-block-heading'); 
    var isScrolling;
    
    $(window).scroll(function() {
        clearTimeout(isScrolling);
        isScrolling = setTimeout(function() {
            var scrollPosition = $(window).scrollTop();
            
            headerTags.each(function() {
                var sectionId = $(this).find('.ez-toc-section').attr('id');
                var sectionOffset = $(this).offset().top;

                if (scrollPosition + 150 >= sectionOffset) {
                    menuLinks.removeClass('active');
                    $('.tableContents nav ul li a[href="#' + sectionId + '"]').addClass('active');
                }
            });
        }, 0);
    });

    // setTimeout(() => {
    //     $('.hBanner-mapMobile').show();
    // },3000);

});